
基于STM32的示波器
作者：1805140338-蔡皓
建议使用VScode进行开发，用VScode的快捷键真的很舒服。花个30分钟看一下快捷键，有很多教程可以在网上查看，这方面我是看的B站和知乎。
重要的一点：学习的网站很多不要在CSDN上吊死。B站 github 码云 openOCV等等很多先去找论坛和网站再去找项目
ctrl + / 快捷行注释，再按一下取消
ctrl + k ，ctrl + O   折叠代码
ctrl + k ，ctrl + j   展开代码
alt + shift + up（down）向上或向下复制一整行
ctrl + left（right）以单词向左向右移动
alt + shift + F  自动格式化代码   
微软在2022年3月份已经宣布将在未来进入嵌入式市场。多一嘴，MDK在3月份宣布KEIL 5有社区免费版，不再限制文件大小。
（一），做项目时注意做好备份，不是光为了防止丢失，之前我添加一个功能删改了很多，导致之前做的很多都不能用了。
找之前的版本时，发现忘了备份。导致在一个已经解决的问题上浪费了4天，真的很折磨。建议去学习以下GIT，不用2小时就会，VScode还不用手动敲命令。
（二），学习STM32时可以去看野火和正点原子的视频，不用纠结看哪个，这两个互相补充。有些虽然学了但是不一定会用，有些需要用但是不用学的那么细致。
（三），学习UcosIII不需要学习那么深入，更多的时需要会怎么用，源代码很多，学习的话需要很多时间。
（四），学习EMWIN一定要了解回调机制和通知这两个是如何实现的，过来人的眼泪。写代码时旁边务必打开EMWIN的官方手册。建议多看看官方的仿真代码很有学习意义。
（五），学习示波器可以先去看看别人的案例，我找了差不多有10多个有些甚至不是F4的，但是他们的方法给了我参考，其中有个armfly公司做的F4的示波器很有参考意义。我定时器控制ADC的采样就是参考他们的。
他们的代码很多很多，我有些看不懂。有兴趣可以看看效果很赞。
（六），如果时间充分可以尝试用EMWIN的2D图形来做示波器界面，这样自定义程度很高。如果象我一样时间不够了，可以用窗口的控件（按钮，复选框……）速度更快。
讲一下EMWIN的几个我踩的坑，EMWIN中graph插件Y-T不可以自定义线条的粗细和长短。Y-X模式不可以自动刷新。注意窗口的通知类型，多看参考手册
（七），代码要记得注释，不是为了给别人看，即使是自己写的，如果好几天不看很快就会忘的。
（八），示波器还有很多不完善的地方，触发那块之前我做了，但是效果不怎么好于是就没加上去。时间也来不及了。
 



ADC1_clock=(APB2/4)=22.5M
t=22.5/(3+12)=1.5M   最大采样率

采样的两个点之间的距离时间为1/1.5=0.66***us
1.5M时 1div（50）  0.67*50=33.5us  
1M    1*50=50us

ADC最大时钟不能超过36M	



50格的显示时间=(1/sample_time[i]*50)/step_x

sample_time={1500000,1000000,500000,200000,100000}

all_value.h存放的是各个变量的位置

vscode 开发STM32
https://www.bilibili.com/video/BV144411d7oe?spm_id_from=333.999.0.0

支持MDK项目
https://www.bilibili.com/video/BV13U4y1b7cd?spm_id_from=333.337.search-card.all.click
去B站搜索  VSCODE KEIL找到自己合适的那个
知乎也有个类似的。

我的github仓库https://github.com/Chonner5/Oscilloscope

